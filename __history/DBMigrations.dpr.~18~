program DBMigrations;

{$APPTYPE CONSOLE}
{$R *.res}

uses
  System.SysUtils,
  DBMigrations.Interactions in 'DBmigrations.Interactions.pas',
  DBMigrations.Interfaces in 'DBmigrations.Interfaces.pas',
  DBMigrations.Settings in 'DBmigrations.Settings.pas',
  DBMigrations.DBConnection in 'DBmigrations.DBConnection.pas';

begin
  Writeln('Welcome DBMigrations 1.0');

  if ParamCount > 0 then
  begin

    if ParamStr(1).ToLower = '--help' then
    begin
      Writeln(' ');
      Writeln('  --init  To start manager DBMigrations');
      Writeln(' ');
      Writeln('  --new To Create migration file');
      Writeln(' ');
      Writeln('  --run Apply Migrations');
      Writeln(' ');
      Exit;
    end;

    if ParamStr(1).ToLower = '--init' then
    begin
      if TConfigManager.New.HasSettings then
      begin
        Writeln('Already initializated migrations.');
        Exit;
      end;

      // Cria a config
    end;

  end
  else
  begin
    Writeln('Write --help to see options');
  end;

end.
